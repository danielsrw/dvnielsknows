<div class="section">
	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<div class="section-row">
					<div class="section-title">
						<h2 class="title">Create Blog</h2>
					</div>
				</div>
                <div class="section-row">
                    <% if(infoSubmitObj != '') { %>
                        <div class="col-8 alert alert-success" role="alert">
                            <%= infoSubmitObj %>
                        </div>
                    <% } %>
                    
                    <% if(infoErrorsObj != '') { %>
                        <div class="col-8 alert alert-danger" role="alert">
                            <%= infoErrorsObj[0].message %>
                        </div>
                    <% } %>

					<form action="/submit-blog" enctype="multipart/form-data" method="POST">
						<div class="row">
							<div class="col-md-12">
								<div class="form-group">
                                    <input type="text" name="username" id="username" class="input" placeholder="Blog Author">
								</div>
							</div>
							<div class="col-md-12">
								<div class="form-group">
                                    <input type="text" name="name" id="name" class="input" placeholder="Blog Name">
								</div>
							</div>
							<div class="col-md-12">
								<div class="form-group">
									<textarea class="input" name="description" id="description" placeholder="Blog Description"></textarea>
								</div>
							</div>
                            <div class="col-md-12">
								<div class="form-group">
                                    <div class="ingredientList">
                                        <div class="ingredeintDiv mb-1">
                                            <input type="text" name="ingredients" class="form-control">
                                        </div>
                                    </div>
								</div>
							</div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <button type="button" class="btn btn-outline-primary" id="addIngredientsBtn">+ Tag</button>
                                </div>
                            </div>
                            <div class="col-md-12">
								<div class="form-group">
                                    <select class="form-select form-control" name="category" aria-label="Category">
                                        <option selected>Select Category</option>
                                        <option value="Technology">Technology</option>
                                        <option value="Music">Music</option>
                                        <option value="History">History</option>
                                        <option value="Lifestyle">Lifestyle</option>
                                    </select>
								</div>
							</div>
                            <div class="col-md-12">
								<div class="form-group">
                                    <input type="file" class="input" name="image" accept="image/*">
								</div>
							</div>
                            <div class="col-md-12">
								<button type="submit" class="primary-button">Submit Blog</button>
                            </div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

<script>
    let addIngredientsBtn = document.getElementById('addIngredientsBtn');
    let ingredientList = document.querySelector('.ingredientList');
    let ingredeintDiv = document.querySelectorAll('.ingredeintDiv')[0];

    addIngredientsBtn.addEventListener('click', function(){
        let newIngredients = ingredeintDiv.cloneNode(true);
        let input = newIngredients.getElementsByTagName('input')[0];
        input.value = '';
        ingredientList.appendChild(newIngredients);
    });
</script>